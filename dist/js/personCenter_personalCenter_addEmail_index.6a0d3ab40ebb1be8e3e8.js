(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{"100":function(e,t,n){"use strict";n(31);var o=n(2),i=n.n(o),r=n(34),a=n.n(r),s=n(30),l=n.n(s),c=(n(66),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}),u=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{"value":n,"enumerable":!0,"configurable":!0,"writable":!0}):e[t]=n,e}var p=function(e){function Button(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Button);var e=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Button.__proto__||Object.getPrototypeOf(Button)).apply(this,arguments));return e.state={"hover":!1,"touch":!1},e}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Button,i.a.Component),u(Button,[{"key":"render","value":function render(){var e,t=this,n=this.props,o=n.children,r=n.disabled,s=n.className,u=n.style,p=n.onClick,d=n.onTouchStart,f=n.onTouchEnd,m=n.hoverClass,h=void 0===m?"button-hover":m,b=n.hoverStartTime,g=void 0===b?20:b,_=n.hoverStayTime,y=void 0===_?70:_,v=n.size,w=n.plain,C=n.loading,x=void 0!==C&&C,O=n.type,E=void 0===O?"default":O,j=s||l()("weui-btn",(_defineProperty(e={},""+h,this.state.hover&&!r),_defineProperty(e,"weui-btn_plain-"+E,w),_defineProperty(e,"weui-btn_"+E,!w&&E),_defineProperty(e,"weui-btn_mini","mini"===v),_defineProperty(e,"weui-btn_loading",x),_defineProperty(e,"weui-btn_disabled",r),e));return i.a.createElement("button",c({},a()(this.props,["hoverClass","onTouchStart","onTouchEnd"]),{"className":j,"style":u,"onClick":p,"disabled":r,"onTouchStart":function _onTouchStart(e){t.setState(function(){return{"touch":!0}}),h&&!r&&setTimeout(function(){t.state.touch&&t.setState(function(){return{"hover":!0}})},g),d&&d(e)},"onTouchEnd":function _onTouchEnd(e){t.setState(function(){return{"touch":!1}}),h&&!r&&setTimeout(function(){t.state.touch||t.setState(function(){return{"hover":!1}})},y),f&&f(e)}}),x&&i.a.createElement("i",{"class":"weui-loading"}),o)}}]),Button}();t.a=p},"35":function(e,t,n){var o=n(36);"string"==typeof o&&(o=[[e.i,o,""]]);var i={"sourceMap":!1,"insertAt":"top","hmr":!0,"transform":void 0,"insertInto":void 0};n(33)(o,i);o.locals&&(e.exports=o.locals)},"36":function(e,t,n){(e.exports=n(32)(!1)).push([e.i,".taro-text {\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\n.taro-text__selectable {\n  -moz-user-select: text;\n  -webkit-user-select: text;\n  -ms-user-select: text;\n  user-select: text;\n}",""])},"39":function(e,t,n){var o=n(40);"string"==typeof o&&(o=[[e.i,o,""]]);var i={"sourceMap":!1,"insertAt":"top","hmr":!0,"transform":void 0,"insertInto":void 0};n(33)(o,i);o.locals&&(e.exports=o.locals)},"40":function(e,t,n){(e.exports=n(32)(!1)).push([e.i,".taro-img {\n  display: inline-block;\n  overflow: hidden;\n  position: relative;\n  font-size: 0;\n  width: 320px;\n  height: 240px;\n}\n\n.taro-img.taro-img__widthfix {\n  height: 100%;\n}\n\n.taro-img__mode-scaletofill {\n  width: 100%;\n  height: 100%;\n}\n\n.taro-img__mode-aspectfit {\n  max-width: 100%;\n  max-height: 100%;\n}\n\n.taro-img__mode-aspectfill {\n  min-width: 100%;\n  height: 100%;\n}\n\n.taro-img__mode-widthfix {\n  width: 100%;\n}\n\n.taro-img__mode-top {\n  width: 100%;\n}\n\n.taro-img__mode-bottom {\n  width: 100%;\n  position: absolute;\n  bottom: 0;\n}\n\n.taro-img__mode-left {\n  height: 100%;\n}\n\n.taro-img__mode-right {\n  position: absolute;\n  height: 100%;\n  right: 0;\n}\n\n.taro-img__mode-topright {\n  position: absolute;\n  right: 0;\n}\n\n.taro-img__mode-bottomleft {\n  position: absolute;\n  bottom: 0;\n}\n\n.taro-img__mode-bottomright {\n  position: absolute;\n  right: 0;\n  bottom: 0;\n}",""])},"42":function(e,t,n){"use strict";n.d(t,"a",function(){return p});var o=n(0),i=n(2),r=n.n(i),a=n(454),s=n(49),l=n(43),c=n.n(l),u=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var p=function(e){function Loading(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Loading),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Loading.__proto__||Object.getPrototypeOf(Loading)).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Loading,o["a"].Component),u(Loading,[{"key":"render","value":function render(){return r.a.createElement(a.a,{"className":c.a.loading},r.a.createElement(s.a,{"src":n(45),"className":c.a.loadingImage}))}}]),Loading}()},"43":function(e,t,n){e.exports={"loading":"index-module__loading___h426J","loadingImage":"index-module__loadingImage___3wGZy"}},"433":function(e,t,n){e.exports={"addEmail":"index-module__addEmail___xiRfJ","emailTitle":"index-module__emailTitle___2aDh5","infoText":"index-module__infoText___1C5le","inputForm":"index-module__inputForm___1DIvO","inputArea":"index-module__inputArea___3Z9g9","email":"index-module__email___1zl_c","imgCode":"index-module__imgCode___SOMSL","emailCode":"index-module__emailCode___2f2vB","phone":"index-module__phone___2IAwz","telphone":"index-module__telphone___1u_eg","confirm":"index-module__confirm___16gIJ","graybtn":"index-module__graybtn___1h4cA","lightbtn":"index-module__lightbtn___3fBVC"}},"45":function(e,t,n){e.exports=n.p+"static/images/loading.a0cbcc17ab3eba84e5f44154f34b73c8.gif"},"46":function(e,t,n){"use strict";n(31);var o=n(2),i=n.n(o),r=n(34),a=n.n(r),s=n(30),l=n.n(s),c=(n(35),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}),u=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var p=function(e){function Text(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Text),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Text.__proto__||Object.getPrototypeOf(Text)).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Text,i.a.Component),u(Text,[{"key":"render","value":function render(){var e=this.props,t=e.className,n=e.selectable,o=void 0!==n&&n,r=l()("taro-text",{"taro-text__selectable":o},t);return i.a.createElement("span",c({},a()(this.props,["selectable","className"]),{"className":r}),this.props.children)}}]),Text}();t.a=p},"48":function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"c",function(){return r}),n.d(t,"b",function(){return asyncAdd});var o=n(5),i=function add(){return{"type":o.a}},r=function minus(){return{"type":o.c}};function asyncAdd(){return function(e){setTimeout(function(){e(i())},2e3)}}},"484":function(e,t,n){"use strict";n.r(t);var o,i=n(0),r=n(502),a=n(455),s=n(2),l=n.n(s),c=n(454),u=n(46),p=n(80),d=n(49),f=n(100),m=n(8),h=n(48),b=n(42),g=n(38),_=(n(88),n(433)),y=n.n(_),v=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var w="/authBaseUrl",C=Object(m.b)(function(e){return e.counter},{"add":h.a,"minus":h.c,"asyncAdd":h.b})(o=function(e){function AddEmail(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AddEmail);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(AddEmail.__proto__||Object.getPrototypeOf(AddEmail)).call(this,e));return t.config={"navigationBarTitleText":"绑定邮箱"},t.goBack=function(){i.a.navigateBack({"delta":1})},t.handleChangeEmail=function(e){t.setState({"email":e.detail.value})},t.handleChangePicCode=function(e){t.setState({"picCode":e.detail.value})},t.handleChangeCode=function(e){t.setState({"code":e.detail.value})},t.getCode=function(){var e=new RegExp(/^([a-zA-Z0-9._-])+@([a-zA-Z0-9_-])+(\.[a-zA-Z0-9_-])+/);if(""===t.state.email)Object(r.d)({"title":"请输入邮箱！","icon":"none","duration":2e3});else if(e.test(t.state.email)){var n={"mobileNo":t.state.userInfo.mobileNo,"captchaCode":t.state.picCode,"type":2};Object(r.b)({"mask":!0}),Object(g.a)("getMobileCode",n).then(function(e){Object(r.a)(),Object(r.d)({"title":e,"icon":"none","duration":2e3}),t.getSmsCode()}).catch(function(){t.updateImgCode(),Object(r.a)()})}else Object(r.d)({"title":"输入邮箱不合法！","icon":"none","duration":2e3})},t.confirm=function(){var e=new RegExp(/^([a-zA-Z0-9._-])+@([a-zA-Z0-9_-])+(\.[a-zA-Z0-9_-])+/);if(""===t.state.email||null===t.state.email)Object(r.d)({"title":"请输入邮箱账号！","icon":"none","duration":2e3});else if(""===t.state.code||null===t.state.code)Object(r.d)({"title":"请输入验证码！","icon":"none","duration":2e3});else if(e.test(t.state.email)){var n={"token":Object(a.b)("token"),"newEmail":t.state.email,"otp":t.state.code,"mobile":t.state.userInfo.mobileNo};Object(g.a)("updateEmailInfo",{},n).then(function(e){Object(r.a)(),Object(r.d)({"title":"恭喜你，修改邮箱成功，请妥善保管！","icon":"success","duration":2e3}),setTimeout(function(){i.a.navigateBack()},500),i.a.navigateBack({"delta":1})}).catch(function(){t.updateImgCode(),Object(r.a)(),console.log("error")})}else Object(r.d)({"title":"输入邮箱不合法！","icon":"none","duration":2e3})},t.state={"loading":!0,"email":"","picCode":"","imageCode":w+"/api/captcha-image?"+(new Date).getTime(),"code":"","tips":"","count":60,"isUserable":!1,"liked":!0,"telTips":"获取手机验证码","userInfo":{"email":"","phone":"","mobileNo":""}},t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(AddEmail,i["a"].Component),v(AddEmail,[{"key":"componentWillReceiveProps","value":function componentWillReceiveProps(e){}},{"key":"componentDidMount","value":function componentDidMount(){var e=this;Object(g.a)("getMineInfo").then(function(t){var n=e.state.userInfo;n.phone=t.mobile,n.mobileNo=t.mobile,e.setState({"userInfo":n})});var t=setTimeout(function(n){e.setState({"loading":!1}),clearTimeout(t)},1e3)}},{"key":"updateImgCode","value":function updateImgCode(){this.setState({"imageCode":w+"/api/captcha-image?"+(new Date).getTime()})}},{"key":"getSmsCode","value":function getSmsCode(){var e=this,t=this.state,n=t.count,o=t.isUserable;t.telTips;0===n?this.setState({"isUserable":!1,"count":60,"telTips":"重新发送"}):(o=!1,n=--n,this.setState({"isUserable":o,"count":n,"telTips":n+"s"}),this.timer=setTimeout(function(){e.getSmsCode()},1e3))}},{"key":"render","value":function render(){var e=this,t=this.state.userInfo;if(this.state.loading)return l.a.createElement(b.a,null);var n=new RegExp(/^([a-zA-Z0-9._-])+@([a-zA-Z0-9_-])+(\.[a-zA-Z0-9_-])+/);return l.a.createElement(c.a,{"className":y.a.addEmail},l.a.createElement(c.a,{"className":y.a.emailTitle},l.a.createElement(u.a,{"onClick":this.goBack,"className":"iconfont iconLeft","style":{"fontSize":"14px","color":"#666666","position":"absolute","left":"16px","top":"0px"}}),l.a.createElement(u.a,{"className":y.a.infoText},"绑定邮箱")),l.a.createElement(c.a,{"style":{"padding":"0px 35px 0px 37px"},"className":y.a.inputForm},l.a.createElement(c.a,{"className":y.a.email},l.a.createElement(p.a,{"className":y.a.inputArea,"name":"oneEmail","type":"text","placeholder":"请输入绑定邮箱账号","placeholderStyle":{"color":"#999999"},"value":this.state.email,"onChange":this.handleChangeEmail.bind(this)})),l.a.createElement(c.a,null,l.a.createElement(u.a,null,this.state.tips)),l.a.createElement(c.a,{"className":y.a.phone},l.a.createElement(u.a,{"className":y.a.telphone},"当前登录手机号"),""!==t.phone?l.a.createElement(u.a,{"style":{"color":"#666666"}},t.phone):l.a.createElement(u.a,null)),l.a.createElement(c.a,{"className":y.a.email},l.a.createElement(p.a,{"className":y.a.inputArea,"name":"picCode","type":"text","placeholder":"请填写图形验证码","value":this.state.picCode,"onChange":this.handleChangePicCode}),l.a.createElement(d.a,{"onClick":this.updateImgCode.bind(this),"className":y.a.imgCode,"src":this.state.imageCode})),l.a.createElement(c.a,{"className":y.a.email},l.a.createElement(p.a,{"className":y.a.inputArea,"name":"code","type":"text","placeholder":"请输入短信验证码","value":this.state.code,"onChange":this.handleChangeCode}),l.a.createElement(c.a,null,l.a.createElement(f.a,{"disabled":this.state.isUserable,"ref":"Btn","onClick":function onClick(){return e.getCode()},"style":n.test(this.state.email)?{"width":"110px","height":"30px","borderRadius":"15px","backgroundColor":"#FF7847","color":"#ffffff"}:{},"className":y.a.emailCode},this.state.telTips))),l.a.createElement(c.a,{"className":y.a.confirm},""!==this.state.email&&""!==this.state.picCode&&""!==this.state.code&&n.test(this.state.email)?l.a.createElement(f.a,{"onClick":this.confirm,"type":"pramiry","className":y.a.lightbtn},"确定"):l.a.createElement(f.a,{"className":y.a.graybtn,"onClick":this.confirm},"确定"))))}},{"key":"componentDidShow","value":function componentDidShow(){}},{"key":"componentDidHide","value":function componentDidHide(){}}]),AddEmail}())||o;t.default=C},"49":function(e,t,n){"use strict";n(31);var o=n(2),i=n.n(o),r=n(30),a=n.n(r),s=(n(39),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}),l=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var c=function(e){function Image(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Image),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Image.__proto__||Object.getPrototypeOf(Image)).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Image,i.a.Component),l(Image,[{"key":"render","value":function render(){var e=this.props,t=e.className,n=e.src,o=e.style,r=e.mode,l=e.onLoad,c=e.onError,u=function _objectWithoutProperties(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(e,["className","src","style","mode","onLoad","onError"]),p=a()("taro-img",{"taro-img__widthfix":"widthFix"===r},t),d="taro-img__mode-"+(r||"scaleToFill").toLowerCase().replace(/\s/g,"");return i.a.createElement("div",s({"className":p,"style":o},u),i.a.createElement("img",{"className":d,"src":n,"onLoad":l,"onError":c}))}}]),Image}();t.a=c},"57":function(e,t,n){var o=n(58);"string"==typeof o&&(o=[[e.i,o,""]]);var i={"sourceMap":!1,"insertAt":"top","hmr":!0,"transform":void 0,"insertInto":void 0};n(33)(o,i);o.locals&&(e.exports=o.locals)},"58":function(e,t,n){(e.exports=n(32)(!1)).push([e.i,"input {\n  display: block;\n  height: 1.4rem;\n  text-align: inherit;\n  text-overflow: clip;\n  overflow: hidden;\n  white-space: nowrap;\n}",""])},"66":function(e,t,n){var o=n(67);"string"==typeof o&&(o=[[e.i,o,""]]);var i={"sourceMap":!1,"insertAt":"top","hmr":!0,"transform":void 0,"insertInto":void 0};n(33)(o,i);o.locals&&(e.exports=o.locals)},"67":function(e,t,n){(e.exports=n(32)(!1)).push([e.i,"button {\n  position: relative;\n  display: block;\n  width: 100%;\n  margin-left: auto;\n  margin-right: auto;\n  padding-left: 14px;\n  padding-right: 14px;\n  box-sizing: border-box;\n  font-size: 18px;\n  text-align: center;\n  text-decoration: none;\n  line-height: 2.55555556;\n  border-radius: 5px;\n  -webkit-tap-highlight-color: transparent;\n  overflow: hidden;\n  color: #000000;\n  background-color: #F8F8F8;\n}\n\nbutton[plain] {\n  color: #353535;\n  border: 1px solid #353535;\n  background-color: transparent;\n}\n\nbutton[plain][disabled] {\n  color: rgba(0, 0, 0, 0.3);\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  background-color: #F7F7F7;\n}\n\nbutton[type=primary] {\n  color: #FFFFFF;\n  background-color: #1AAD19;\n}\n\nbutton[type=primary][plain] {\n  color: #1aad19;\n  border: 1px solid #1aad19;\n  background-color: transparent;\n}\n\nbutton[type=primary][plain][disabled] {\n  color: rgba(0, 0, 0, 0.3);\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  background-color: #F7F7F7;\n}",""])},"80":function(e,t,n){"use strict";n(31);var o=n(2),i=n.n(o),r=n(34),a=n.n(r),s=n(30),l=n.n(s),c=(n(57),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}),u=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function getTrueType(e,t,n){if(!e)throw new Error("unexpected type");return"search"===t&&(e="search"),n&&(e="password"),"digit"===e&&(e="number"),e}var p=function(e){function Input(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Input);var e=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Input.__proto__||Object.getPrototypeOf(Input)).apply(this,arguments));return e.onInput=e.onInput.bind(e),e.onFocus=e.onFocus.bind(e),e.onBlur=e.onBlur.bind(e),e.onKeyDown=e.onKeyDown.bind(e),e.handleComposition=e.handleComposition.bind(e),e.isOnComposition=!1,e}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Input,i.a.Component),u(Input,[{"key":"componentDidMount","value":function componentDidMount(){"file"===this.props.type&&this.inputRef.addEventListener("change",this.onInput)}},{"key":"componentWillUnMount","value":function componentWillUnMount(){"file"===this.props.type&&this.inputRef.removeEventListener("change",this.onInput)}},{"key":"onInput","value":function onInput(e){var t=this.props,n=t.type,o=t.maxLength,i=t.confirmType,r=t.password,a=t.onInput,onInput=void 0===a?"":a,s=t.onChange,l=void 0===s?"":s;if(!this.isOnComposition){var c=e.target.value,u=getTrueType(n,i,r);if("number"===u&&c&&o<=c.length&&(c=c.substring(0,o),e.target.value=c),Object.defineProperty(e,"detail",{"enumerable":!0,"value":{"value":c}}),!["number","file"].includes(u)){var p=e.target.selectionEnd;setTimeout(function(){e.target.selectionStart=p,e.target.selectionEnd=p})}if(l)return l(e);if(onInput)return onInput(e)}}},{"key":"onFocus","value":function onFocus(e){var onFocus=this.props.onFocus;Object.defineProperty(e,"detail",{"enumerable":!0,"value":{"value":e.target.value}}),onFocus&&onFocus(e)}},{"key":"onBlur","value":function onBlur(e){var onBlur=this.props.onBlur;Object.defineProperty(e,"detail",{"enumerable":!0,"value":{"value":e.target.value}}),onBlur&&onBlur(e)}},{"key":"onKeyDown","value":function onKeyDown(e){var t=this.props.onConfirm;13===e.keyCode&&t&&(Object.defineProperty(e,"detail",{"enumerable":!0,"value":{"value":e.target.value}}),t(e))}},{"key":"handleComposition","value":function handleComposition(e){e.target instanceof HTMLInputElement&&("compositionend"===e.type?this.isOnComposition=!1:this.isOnComposition=!0,this.onInput(e))}},{"key":"render","value":function render(){var e=this,t=this.props,n=t.className,o=void 0===n?"":n,r=t.placeholder,s=t.type,u=void 0===s?"text":s,p=t.password,d=t.disabled,f=t.maxLength,m=t.confirmType,h=void 0===m?"":m,b=t.focus,g=void 0!==b&&b,_=t.value,y=l()("weui-input",o),v=a()(this.props,["className","placeholder","disabled","max","onChange","onFocus","onBlur","type","focus"]);return"value"in this.props&&(v.value=function fixControlledValue(e){return void 0===e||null===e?"":e}(_)),i.a.createElement("input",c({"ref":function ref(t){e.inputRef=t,t&&g&&t.focus()}},v,{"className":y,"placeholder":r,"disabled":d,"max":f,"onInput":this.onInput,"onFocus":this.onFocus,"onBlur":this.onBlur,"autofocus":g,"onKeyDown":this.onKeyDown,"type":getTrueType(u,h,p),"onCompositionStart":this.handleComposition,"onCompositionEnd":this.handleComposition}))}}]),Input}();p.defaultProps={"type":"text"},t.a=p},"88":function(e,t,n){}}]);